FROM node:lts-alpine

# make the 'app' folder the current working directory
WORKDIR /opt/frontend

# install project dependencies
# copy both 'package.json' and 'package-lock.json' (if available)
COPY src/frontend/package*.json ./
RUN npm i @vue/cli @vue/cli-init
RUN npm i --only=dev

COPY src/frontend/ .

EXPOSE 8080
CMD [ "npm", "run", "dev" ]

# TODO: Setup build process
# build app for production with minification
# install simple http server for serving static content
# RUN npm install -g http-server
# RUN npm run build
# CMD [ "/opt/frontend/node_modules/bin/npm", "run", "dev" ]
